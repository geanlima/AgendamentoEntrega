<div class="background-container"> 
  <mat-card class="mat-card-popup">
    <mat-card-content class="card-content">
      <div class="header">
        <span class="title">Processando Pedidos Selecionados</span>
      </div>

      <div class="table-vendas">
        <table mat-table [dataSource]="dataSource">
          <!-- Coluna do ID do Pedido -->
          <ng-container matColumnDef="rca_order_id">
            <th mat-header-cell *matHeaderCellDef> Pedido ID </th>
            <td mat-cell *matCellDef="let pedido"> {{pedido.rca_order_id}} </td>
          </ng-container>
          
          <!-- Coluna do Status -->
          <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef> Status </th>
            <td mat-cell *matCellDef="let pedido"> {{pedido.status}} </td>
          </ng-container>

          <ng-container matColumnDef="log_resultado">
            <th mat-header-cell *matHeaderCellDef> Resultado </th>
            <td mat-cell *matCellDef="let pedido"> {{pedido.log_resultado}} </td>            
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>        
      </div>

      <div class="progress-container">
        <mat-progress-bar mode="determinate" [value]="progress"></mat-progress-bar>
      </div>

      <mat-paginator #paginator [pageSizeOptions]="[pageSize]" [hidePageSize]="true" [ngClass]="{'matHidden': !dataSource }"
          [showFirstLastButtons]="true">
      </mat-paginator>

    </mat-card-content>
    <div class="popup-actions">
      <button mat-flat-button color="primary" (click)="processarTodos()" [disabled]="processing">
        Processar
      </button>
      <button mat-flat-button color="accent" (click)="closePopup()">Fechar</button>
    </div>
  </mat-card>  
</div>
